name: test-ci

on:
  push:
    branches:
      - 'Feature/test'

jobs:
  test-back:
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v2
      - name: build app
        # run: docker compose up --build --detach
        run: SCRIPT=fixtures docker compose up --build --detach
        # id: build
      - name: Wait for build to finish
        run: echo "Build terminé !"
        if: ${{ steps.build.outcome == 'success' }}
      #   id: build
      # - name: Wait for build to finish
      #   run: echo "Build finished!"
      #   # Attendre la fin du build en utilisant le résultat de l'étape précédente
      #   if: ${{ steps.build.outcome == 'success' }}
      - name: test
        run: npm i && npm run testDev

